# Клиент для API YurCRM

Клиент обеспечивает работу с API CRM для юридических компаний

### Требования
* PHP 5.4+ с модулем curl

### Быстрый старт
Для работы с API вам понадобится токен. Получить его можно зарегистрировавшись на yurcrm.ru и залогинившись 
под пользователем с ролью Директор. Перейдите в раздел Моя компания / API.
Также понадобится ID источника контактов. Его вы найдете на странице Моя компания / Источники контактов

### Пример добавления контакта в компанию
```
$yurcrmClient = new YurcrmClient('contact/create', 'POST', 'ваш токен');
$yurcrmClient->setData([
    'contact[name]' => "Александр Пушкин",
    'contact[sourceId]' => ID_источника,
    'contact[phone]' => 79031112233,
    'contact[question]' => "Суд с Дантесом",
    'contact[email]' => "alex@pushkin.ru",
    'contact[townId]' => '598',
    'contact[externalId]' => 781827,
]);

$createLeadResult = $yurcrmClient->send();
```
Параметры контакта:
* name - Имя (обязательно)
* sourceId - ID источника контактов (обязательно)
* phone - Телефон (обязательно)
* question - Вопрос клиента (обязательно)
* email - Email (необязательно)
* townId - ID города (необязательно)
* externalId - ID контакта в вашей системе (необязательно)

ID городов вы можете найти в файле towns.csv в репозитории